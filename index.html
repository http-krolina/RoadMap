<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Roadmap Interativo - App de Campo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: A dashboard-style, single-page application was designed to transform the static feature list into an engaging, explorable roadmap. The structure includes: 1) A header with key metrics for an immediate overview. 2) Interactive filters by development phase (M1, M2, Futuro) for user-driven exploration. 3) A central chart to visually represent the distribution of work across phases. 4) A responsive card grid to display detailed feature information. This structure was chosen because it organizes information thematically, allowing stakeholders to quickly grasp the project's scope and progress at different granularities, which is more effective than a simple linear document. -->
    <!-- Visualization & Content Choices: 
        - Key Metrics (Total, M1, M2, etc.): Goal=Inform. Method=Dynamic text blocks. Interaction=Updates on filter selection. Justification=Provides a quick, high-level summary of the project's scope.
        - Feature Distribution Chart: Goal=Compare Proportions. Method=Donut Chart (Chart.js/Canvas). Interaction=Hover tooltips show feature counts per phase. Justification=Offers an immediate visual breakdown of development effort across phases.
        - Feature Cards: Goal=Organize & Detail. Method=HTML/CSS card layout. Interaction=Cards are dynamically shown/hidden based on the active phase filter. Justification=Presents detailed information for each feature in a digestible format and allows users to focus on specific delivery milestones.
        - Icons: Goal=Visual Cue. Method=Unicode characters. Justification=Provides quick visual identification of a feature's core concept without relying on external image or SVG files.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
      body {
        font-family: "Inter", sans-serif;
      }
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");
      .chart-container {
        position: relative;
        width: 100%;
        max-width: 400px;
        margin-left: auto;
        margin-right: auto;
        height: 300px;
        max-height: 400px;
      }
      @media (min-width: 768px) {
        .chart-container {
          height: 350px;
        }
      }
      .feature-card {
        transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
      }
      .hidden-card {
        opacity: 0;
        transform: scale(0.95);
        display: none;
      }
    </style>
  </head>
  <body class="bg-stone-50 text-stone-800">
    <div class="container mx-auto p-4 md:p-8">
      <header class="text-center mb-8">
        <h1 class="text-4xl font-bold text-stone-900">Roadmap Interativo</h1>
        <p class="text-lg text-stone-600 mt-2">
          App de Campo: Funcionalidades e Fases de Implementa√ß√£o
        </p>
      </header>

      <main>
        <!-- Se√ß√£o de M√©tricas e Vis√£o Geral -->
        <section
          id="overview"
          class="mb-10 p-6 bg-white rounded-2xl shadow-sm border border-stone-200"
        >
          <h2 class="text-2xl font-semibold text-stone-800 mb-4 text-center">
            Vis√£o Geral do Projeto
          </h2>
          <p class="text-center text-stone-600 mb-6">
            Esta se√ß√£o resume a distribui√ß√£o das funcionalidades planejadas para
            o aplicativo. Utilize o gr√°fico para entender a propor√ß√£o de
            trabalho em cada fase e os cart√µes abaixo para ver o total de
            funcionalidades.
          </p>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
            <div class="chart-container">
              <canvas id="featuresChart"></canvas>
            </div>
            <div class="grid grid-cols-2 gap-4 text-center">
              <div class="bg-stone-100 p-4 rounded-lg">
                <h3 class="text-3xl font-bold text-sky-600" id="total-features">
                  17
                </h3>
                <p class="text-sm text-stone-500">Total de Features</p>
              </div>
              <div class="bg-stone-100 p-4 rounded-lg">
                <h3
                  class="text-3xl font-bold text-emerald-600"
                  id="m1-features"
                >
                  9
                </h3>
                <p class="text-sm text-stone-500">Fase M1</p>
              </div>
              <div class="bg-stone-100 p-4 rounded-lg">
                <h3 class="text-3xl font-bold text-amber-600" id="m2-features">
                  6
                </h3>
                <p class="text-sm text-stone-500">Fase M2</p>
              </div>
              <div class="bg-stone-100 p-4 rounded-lg">
                <h3
                  class="text-3xl font-bold text-slate-600"
                  id="future-features"
                >
                  2
                </h3>
                <p class="text-sm text-stone-500">Futuro</p>
              </div>
            </div>
          </div>
        </section>

        <!-- Se√ß√£o de Filtros e Funcionalidades -->
        <section id="features-list">
          <div class="text-center mb-8">
            <h2 class="text-2xl font-semibold text-stone-800 mb-4">
              Explore as Funcionalidades
            </h2>
            <p class="text-center text-stone-600 mb-6 max-w-3xl mx-auto">
              Navegue pelas funcionalidades planejadas. Use os bot√µes abaixo
              para filtrar os itens de acordo com a fase de desenvolvimento.
              Cada cart√£o cont√©m a descri√ß√£o e os crit√©rios de aceita√ß√£o da
              funcionalidade.
            </p>
            <div id="filters" class="flex flex-wrap justify-center gap-2">
              <button
                data-filter="all"
                class="filter-btn bg-sky-600 text-white py-2 px-5 rounded-full font-semibold shadow-sm"
              >
                Todos
              </button>
              <button
                data-filter="M1"
                class="filter-btn bg-white text-stone-700 py-2 px-5 rounded-full font-semibold border border-stone-300"
              >
                Fase M1
              </button>
              <button
                data-filter="M2"
                class="filter-btn bg-white text-stone-700 py-2 px-5 rounded-full font-semibold border border-stone-300"
              >
                Fase M2
              </button>
              <button
                data-filter="Futuro"
                class="filter-btn bg-white text-stone-700 py-2 px-5 rounded-full font-semibold border border-stone-300"
              >
                Futuro
              </button>
            </div>
          </div>

          <div
            id="features-grid"
            class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"
          >
            <!-- Cards de funcionalidades ser√£o inseridos aqui pelo JavaScript -->
          </div>
        </section>
      </main>
    </div>

    <script>
      const featuresData = [
        {
          id: "F-01",
          phase: "M1",
          title: "Autentica√ß√£o & Perfis",
          icon: "üë§",
          description:
            "Login com credenciais institucionais; bloqueio por tentativas; logout.",
          acceptance:
            "Dado usu√°rio v√°lido ‚Üí quando faz login ‚Üí ent√£o acessa app com perfil correto e permiss√µes aplicadas.",
        },
        {
          id: "F-02",
          phase: "M1",
          title: "Registro de Ocorr√™ncia",
          icon: "üìù",
          description:
            "Form com campos obrigat√≥rios (tipo, data/hora, viatura, equipe, descri√ß√£o) e opcionais.",
          acceptance:
            "Dado formul√°rio completo ‚Üí quando salvar ‚Üí ent√£o registro √© criado localmente (offline) ou no servidor (online).",
        },
        {
          id: "F-03",
          phase: "M1",
          title: "Modo Offline",
          icon: "‚òÅÔ∏è",
          description:
            "Armazenar ocorr√™ncias localmente e sincronizar quando voltar a conex√£o.",
          acceptance:
            "Dada aus√™ncia de rede ‚Üí quando registrar ‚Üí ent√£o salva local; quando rede volta ‚Üí ent√£o sincroniza automaticamente.",
        },
        {
          id: "F-04",
          phase: "M1",
          title: "Captura GPS",
          icon: "üìç",
          description: "Obter coordenadas, precis√£o, carimbo de data/hora.",
          acceptance:
            "Dado dispositivo com GPS ‚Üí quando abrir formul√°rio ‚Üí ent√£o coordenadas s√£o registradas e anexadas ao evento.",
        },
        {
          id: "F-05",
          phase: "M1",
          title: "Captura de Foto",
          icon: "üì∑",
          description:
            "Tirar foto a partir do app, com compress√£o e metadados.",
          acceptance:
            "Dado clique em ‚ÄúAdicionar foto‚Äù ‚Üí quando fotografar ‚Üí ent√£o imagem √© anexada ao registro com hash e hor√°rio.",
        },
        {
          id: "F-06",
          phase: "M1",
          title: "Assinatura Digital",
          icon: "‚úçÔ∏è",
          description: "Coleta de assinatura na tela; vincular ao registro.",
          acceptance:
            "Dado campo de assinatura ‚Üí quando coletar ‚Üí ent√£o imagem da assinatura √© salva e referenciada no caso.",
        },
        {
          id: "F-07",
          phase: "M1",
          title: "Valida√ß√µes de Formul√°rio",
          icon: "‚úîÔ∏è",
          description:
            "Campos obrigat√≥rios, mascaras (CPF/telefone), ranges e formatos.",
          acceptance:
            "Dado campo obrigat√≥rio vazio ‚Üí quando salvar ‚Üí ent√£o o app impede envio e exibe mensagem clara.",
        },
        {
          id: "F-08",
          phase: "M1",
          title: "Lista de Ocorr√™ncias",
          icon: "üìã",
          description:
            "Tela listando ocorr√™ncias do usu√°rio; status (sincronizado/pendente).",
          acceptance:
            "Dado usu√°rio logado ‚Üí quando abrir lista ‚Üí ent√£o visualiza registros e seus estados.",
        },
        {
          id: "F-09",
          phase: "M1",
          title: "Edi√ß√£o Antes do Envio",
          icon: "‚úèÔ∏è",
          description: "Permitir editar registros pendentes de sincroniza√ß√£o.",
          acceptance:
            "Dado registro pendente ‚Üí quando editar e salvar ‚Üí ent√£o atualiza√ß√£o persiste e ser√° enviada no pr√≥ximo sync.",
        },
        {
          id: "F-10",
          phase: "M2",
          title: "Captura de V√≠deo",
          icon: "üìπ",
          description: "Grava√ß√£o curta com compress√£o e limite de tamanho.",
          acceptance:
            "Dado bot√£o ‚Äúv√≠deo‚Äù ‚Üí quando gravar ‚Üí ent√£o arquivo √© anexado e validado por tamanho/mimetype.",
        },
        {
          id: "F-11",
          phase: "M2",
          title: "Sincroniza√ß√£o com Resolu√ß√£o de Conflitos",
          icon: "üîÑ",
          description:
            "Estrat√©gia last-write-wins + log; alerta ao usu√°rio em conflitos.",
          acceptance:
            "Dado mesmo registro alterado em 2 lugares ‚Üí quando sincronizar ‚Üí ent√£o conflito √© detectado e resolvido segundo a pol√≠tica.",
        },
        {
          id: "F-12",
          phase: "M2",
          title: "Linha do Tempo da Ocorr√™ncia",
          icon: "‚è≥",
          description:
            "Eventos (cria√ß√£o, anexos, status, sincroniza√ß√µes) em ordem cronol√≥gica.",
          acceptance:
            "Dado um registro ‚Üí quando abrir timeline ‚Üí ent√£o exibe eventos com data/hora e autor.",
        },
        {
          id: "F-13",
          phase: "M2",
          title: "Mapa In-App",
          icon: "üó∫Ô∏è",
          description:
            "Visualiza√ß√£o em mapa das ocorr√™ncias do turno do usu√°rio.",
          acceptance:
            "Dado acesso √† tela mapa ‚Üí quando carregar ‚Üí ent√£o exibe pins com filtro por status/data.",
        },
        {
          id: "F-14",
          phase: "M2",
          title: "Push Notifications",
          icon: "üîî",
          description: "Notificar nova atribui√ß√£o/altera√ß√£o de status.",
          acceptance:
            "Dado perfil operacional ‚Üí quando chefe atribuir ocorr√™ncia ‚Üí ent√£o push √© recebido no dispositivo.",
        },
        {
          id: "F-15",
          phase: "M2",
          title: "Acessibilidade",
          icon: "‚ôø",
          description:
            "Alto contraste, fontes escal√°veis, leitura por voz (OS), foco adequado.",
          acceptance:
            "Dado usu√°rio com ajustes de acessibilidade ‚Üí quando usar app ‚Üí ent√£o a interface respeita prefer√™ncias do sistema.",
        },
        {
          id: "F-16",
          phase: "Futuro",
          title: "Modo Treinamento",
          icon: "üéì",
          description: "Ambiente simulado para capacita√ß√£o sem dados reais.",
          acceptance:
            "Dado modo sandbox ‚Üí quando registrar ‚Üí ent√£o dados n√£o entram na base produtiva.",
        },
        {
          id: "F-17",
          phase: "Futuro",
          title: "Escaneio de QR/Barcodes",
          icon: "üá∂",
          description: "Vincular recursos/equipamentos √† ocorr√™ncia.",
          acceptance:
            "Dado QR code v√°lido ‚Üí quando escanear ‚Üí ent√£o equipamento √© associado ao registro.",
        },
      ];

      const phaseColors = {
        M1: "#0ea5e9", // sky-500
        M2: "#f59e0b", // amber-500
        Futuro: "#64748b", // slate-500
      };

      const phaseBorderColors = {
        M1: "border-sky-500",
        M2: "border-amber-500",
        Futuro: "border-slate-500",
      };

      document.addEventListener("DOMContentLoaded", () => {
        const featuresGrid = document.getElementById("features-grid");
        const filterButtons = document.querySelectorAll(".filter-btn");

        function renderFeatures(filter = "all") {
          featuresGrid.innerHTML = "";
          const filteredData =
            filter === "all"
              ? featuresData
              : featuresData.filter((f) => f.phase === filter);

          filteredData.forEach((feature) => {
            const card = document.createElement("div");
            card.className = `feature-card bg-white p-6 rounded-2xl shadow-sm border-t-4 ${
              phaseBorderColors[feature.phase]
            } flex flex-col`;
            card.dataset.phase = feature.phase;

            card.innerHTML = `
                        <div class="flex-grow">
                            <div class="flex items-start justify-between mb-3">
                                <span class="text-2xl">${feature.icon}</span>
                                <span class="text-xs font-bold uppercase tracking-wider text-white px-2 py-1 rounded-full" style="background-color: ${
                                  phaseColors[feature.phase]
                                }">${feature.phase}</span>
                            </div>
                            <h3 class="text-lg font-bold text-stone-800 mb-2">${
                              feature.id
                            } | ${feature.title}</h3>
                            <p class="text-sm text-stone-600 mb-4">${
                              feature.description
                            }</p>
                        </div>
                        <div>
                            <p class="text-xs text-stone-500 bg-stone-100 p-2 rounded-md"><span class="font-semibold">Aceita√ß√£o:</span> ${
                              feature.acceptance
                            }</p>
                        </div>
                    `;
            featuresGrid.appendChild(card);
          });
        }

        function updateActiveButton(activeFilter) {
          filterButtons.forEach((button) => {
            if (button.dataset.filter === activeFilter) {
              button.classList.remove(
                "bg-white",
                "text-stone-700",
                "border",
                "border-stone-300"
              );
              button.classList.add("bg-sky-600", "text-white");
            } else {
              button.classList.remove("bg-sky-600", "text-white");
              button.classList.add(
                "bg-white",
                "text-stone-700",
                "border",
                "border-stone-300"
              );
            }
          });
        }

        filterButtons.forEach((button) => {
          button.addEventListener("click", () => {
            const filter = button.dataset.filter;
            renderFeatures(filter);
            updateActiveButton(filter);
          });
        });

        function renderChart() {
          const ctx = document.getElementById("featuresChart").getContext("2d");
          const phaseCounts = featuresData.reduce((acc, feature) => {
            acc[feature.phase] = (acc[feature.phase] || 0) + 1;
            return acc;
          }, {});

          new Chart(ctx, {
            type: "doughnut",
            data: {
              labels: Object.keys(phaseCounts),
              datasets: [
                {
                  label: "Features por Fase",
                  data: Object.values(phaseCounts),
                  backgroundColor: [
                    phaseColors["M1"],
                    phaseColors["M2"],
                    phaseColors["Futuro"],
                  ],
                  borderColor: "#f8fafc",
                  borderWidth: 4,
                },
              ],
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              cutout: "70%",
              plugins: {
                legend: {
                  position: "bottom",
                  labels: {
                    padding: 20,
                    font: {
                      size: 14,
                      family: "Inter",
                    },
                  },
                },
                tooltip: {
                  callbacks: {
                    label: function (context) {
                      let label = context.label || "";
                      if (label) {
                        label += ": ";
                      }
                      if (context.parsed !== null) {
                        label += context.parsed + " funcionalidades";
                      }
                      return label;
                    },
                  },
                },
              },
            },
          });
        }

        renderFeatures();
        renderChart();
      });
    </script>
  </body>
</html>
